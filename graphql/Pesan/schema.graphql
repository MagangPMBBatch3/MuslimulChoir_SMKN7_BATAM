type Pesan {
    id: ID!
    pengirim_id: Int
    penerima_id: Int
    isi: String
    tgl_pesan: DateTime
    jenis_id: Int
    created_at: DateTime
    updated_at: DateTime
    deleted_at: DateTime

    jenis_pesan: JenisPesan @belongsTo
    user: User @belongsTo
    penerima: User @belongsTo
}

input CreatePesanInput {
    pengirim_id: Int
    penerima_id: Int
    isi: String
    tgl_pesan: DateTime
    jenis_id: Int
}

input UpdatePesanInput {
    pengirim_id: Int
    penerima_id: Int
    isi: String
    tgl_pesan: DateTime
    jenis_id: Int
}

extend type Query {
    allPesan: [Pesan!]!
    @all(model: "App\\Models\\Pesan\\Pesan")

    Pesan(id: ID! @eq): Pesan
    @find(model: "App\\Models\\Pesan\\Pesan")

    allPesanArsip: [Pesan!]!
    @field(resolver: "App\\GraphQL\\Pesan\\Queries\\PesanQuery@allArsip")

    getPesans(search: String): [Pesan!]!
    @field(resolver: "App\\GraphQL\\Pesan\\Queries\\PesanQuery@getPesans")

}

extend type Mutation {
    createPesan(input: CreatePesanInput! @spread): Pesan
    @create(model: "App\\Models\\Pesan\\Pesan")

    updatePesan(
        id: ID! @eq,
        input: UpdatePesanInput! @spread
    ): Pesan
    @update(model: "App\\Models\\Pesan\\Pesan")

    deletePesan(id: ID! @eq): Pesan
    @delete(model: "App\\Models\\Pesan\\Pesan")

    restorePesan(id: ID!): Pesan
    @field(resolver: "App\\GraphQL\\Pesan\\Mutations\\PesanMutation@restore")

    forceDeletePesan(id: ID!): Pesan
    @field(resolver: "App\\GraphQL\\Pesan\\Mutations\\PesanMutation@forceDelete")
}